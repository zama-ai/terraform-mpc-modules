# Network Environment Configuration
network_environment = "mainnet" # or testnet

# AWS Configuration
aws_region = "eu-central-1"

# MPC Party Configuration
party_id    = 1
party_name  = "mpc-party-2"
environment = "prod"

# S3 Bucket Configuration
bucket_prefix   = "zama-kms-decentralized-threshold-2"
config_map_name = "mpc-party"

# Kubernetes Configuration
cluster_name         = "zws-dev"
namespace            = "kms-decentralized"
service_account_name = "mpc-party-2"
create_namespace     = false

# IRSA Configuration (recommended for production)
create_irsa = true

# Kubernetes Provider Configuration
kubeconfig_path    = "~/.kube/config"
kubeconfig_context = "tailscale-operator-zws-dev.diplodocus-boa.ts.net"

# Tagging
owner           = "mpc-team"
additional_tags = {
  "Project"     = "mpc-infrastructure"
  "Team"        = "security"
  "Cost-Center" = "engineering"
}

# RDS Configuration
enable_rds              = true
rds_db_name             = "kmsconnector"
rds_username            = "kmsconnector"
rds_deletion_protection = false # Allow deletion of RDS instance

# Node Group Configuration
create_nodegroup                         = true
nodegroup_instance_types                 = ["c7a.24xlarge"]
nodegroup_min_size                       = 1
nodegroup_max_size                       = 1
nodegroup_desired_size                   = 1
nodegroup_disk_size                      = 30
nodegroup_capacity_type                  = "ON_DEMAND"
nodegroup_ami_type                       = "AL2023_x86_64_STANDARD"
nodegroup_use_latest_ami_release_version = false
# This is the AMI release version recommended by the zama team for the 1.32.3 release. Other versions are not supported.
nodegroup_ami_release_version = "1.32.3-20250620"
nodegroup_labels = {
  "nodepool" = "kms"
}
nodegroup_additional_security_group_ids = ["sg-04e41735e6bdc6007"]
nodegroup_enable_nitro_enclaves         = true
nodegroup_enable_ssm_managed_instance   = true

# Nitro Enclaves Configuration for MPC Party
kms_enabled_nitro_enclaves   = true
# This image attestation SHA must be updated for each KMS enclave release image.
kms_image_attestation_sha   = "2e57f0e641efd3c0595f4ec03c77b2b4f96d16b420588122efd2067c1609ee77265bf4d46a06455398981363271d235d"
kms_deletion_window_in_days = 7
